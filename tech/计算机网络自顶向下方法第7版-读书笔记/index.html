<!doctype html><html lang=en><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.101.0"><meta name=theme-color content="#16171d"><meta name=color-scheme content="light dark"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>《计算机网络自顶向下方法第7版》 读书笔记 | 时间文本博客</title><link rel=stylesheet href=../../css/meme.min.css><script src=../../js/meme.min.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Cinzel+Decorative:wght@700&display=swap" media=print onload='this.media="all"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Cinzel+Decorative:wght@700&display=swap"></noscript><meta name=author content="TimeText"><meta name=description content="第1章 计算机网络和因特网 什么是因特网 计算机网络（computer network）；主"><link rel="shortcut icon" href=../../favicon.ico type=image/x-icon><link rel=mask-icon href=../../icons/safari-pinned-tab.svg color=#fff><link rel=apple-touch-icon sizes=180x180 href=../../icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="时间文本博客"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="时间文本博客"><meta name=msapplication-starturl content="../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../icons/mstile-150x150.png"><link rel=manifest href=../../manifest.json><link rel=canonical href=https://timetext.github.io/tech/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","datePublished":"2021-03-01T23:59:59+00:00","dateModified":"2022-07-12T13:39:24+00:00","url":"https://timetext.github.io/tech/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","headline":"《计算机网络自顶向下方法第7版》 读书笔记","description":"第1章 计算机网络和因特网 什么是因特网 计算机网络（computer network）；主","inLanguage":"en","articleSection":"tech","wordCount":24312,"image":["https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%201.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%202.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%203.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%204.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%205.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%206.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316133419593.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316133433980.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316135113319.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%207.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%208.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%209.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2010.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2011.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2012.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2013.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2014.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2015.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2016.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2017.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2018.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2019.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2020.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2021.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2022.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2023.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2024.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2025.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2026.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2027.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2028.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2029.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2030.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2031.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2032.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2033.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2034.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2035.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2036.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2037.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2038.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2039.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2040.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2041.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2042.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2043.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2044.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2045.png","https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2046.png"],"author":{"@type":"Person","url":"https://timetext.github.io/","name":"TimeText"},"license":"[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh) 原创内容 未经授权 禁止转载","publisher":{"@type":"Organization","name":"时间文本博客","logo":{"@type":"ImageObject","url":"https://timetext.github.io/icons/apple-touch-icon.png"},"url":"https://timetext.github.io/"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://timetext.github.io/"}}</script><meta name=twitter:card content="summary_large_image"><meta property="og:title" content="《计算机网络自顶向下方法第7版》 读书笔记"><meta property="og:description" content="第1章 计算机网络和因特网 什么是因特网 计算机网络（computer network）；主"><meta property="og:url" content="https://timetext.github.io/tech/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="时间文本博客"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://timetext.github.io/ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled.png"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-03-01T23:59:59+00:00"><meta property="article:modified_time" content="2022-07-12T13:39:24+00:00"><meta property="article:section" content="tech"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=../../ class=brand>时间文本博客</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=../../life/><span class=menu-item-name>生活</span></a></li><li class="menu-item active"><a href=../../tech/><span class=menu-item-name>技术</span></a></li><li class=menu-item><a href=../../about/><span class=menu-item-name>关于</span></a></li><li class=menu-item><a id=theme-switcher href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-light"><path d="M193.2 104.5 242 7a18 18 0 0128 0l48.8 97.5L422.2 70A18 18 0 01442 89.8l-34.5 103.4L505 242a18 18 0 010 28l-97.5 48.8L442 422.2A18 18 0 01422.2 442l-103.4-34.5L270 505a18 18 0 01-28 0l-48.8-97.5L89.8 442A18 18 0 0170 422.2l34.5-103.4-97.5-48.8a18 18 0 010-28l97.5-48.8L70 89.8A18 18 0 0189.8 70zM256 128a128 128 0 10.01.0M256 160a96 96 0 10.01.0"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-dark"><path d="M27 412A256 256 0 10181 5a11.5 11.5.0 00-5 20A201.5 201.5.0 0142 399a11.5 11.5.0 00-15 13"/></svg></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label>
<label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=default data-type=tech><h1 class="post-title p-name">《计算机网络自顶向下方法第7版》 读书笔记</h1><div class=post-meta><time datetime=2021-03-01T23:59:59+00:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2021.3.1</time>
<span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;24312</span></div><nav class=contents><ol class=toc><li><a id=contents:第1章-计算机网络和因特网 href=#第1章-计算机网络和因特网>第1章 计算机网络和因特网</a><ol><li><a id=contents:什么是因特网 href=#什么是因特网>什么是因特网</a></li><li><a id=contents:网络边缘-接入网络方式 href=#网络边缘-接入网络方式>网络边缘-接入网络方式</a></li><li><a id=contents:网络边缘-物理媒介 href=#网络边缘-物理媒介>网络边缘-物理媒介</a></li><li><a id=contents:网络核心 href=#网络核心>网络核心</a><ol><li><a id=contents:分组交换 href=#分组交换>分组交换</a></li><li><a id=contents:电路交换 href=#电路交换>电路交换</a></li></ol></li><li><a id=contents:分组交换中的时延 href=#分组交换中的时延>分组交换中的时延</a><ol><li><a id=contents:时延分类 href=#时延分类>时延分类</a></li></ol></li><li><a id=contents:协议层次及其服务模型 href=#协议层次及其服务模型>协议层次及其服务模型</a><ol><li><a id=contents:tcpip-模型 href=#tcpip-模型>TCP/IP 模型</a></li><li><a id=contents:osi模型 href=#osi模型>OSI模型</a></li></ol></li><li><a id=contents:面对攻击的网络 href=#面对攻击的网络>面对攻击的网络</a></li><li><a id=contents:计算机网络和因特网历史 href=#计算机网络和因特网历史>计算机网络和因特网历史</a></li></ol></li><li><a id=contents:第2章-应用层 href=#第2章-应用层>第2章 应用层</a><ol><li><a id=contents:应用层协议原理 href=#应用层协议原理>应用层协议原理</a></li><li><a id=contents:web和http href=#web和http>Web和HTTP</a></li><li><a id=contents:电子邮件 href=#电子邮件>电子邮件</a></li><li><a id=contents:dns因特网的目录服务 href=#dns因特网的目录服务>DNS：因特网的目录服务</a></li><li><a id=contents:p2p文件分发 href=#p2p文件分发><strong>P2P文件分发</strong></a></li><li><a id=contents:视频流和cdn href=#视频流和cdn><strong>视频流和CDN</strong></a></li><li><a id=contents:套接字编程 href=#套接字编程>套接字编程</a></li></ol></li><li><a id=contents:第3章-运输层 href=#第3章-运输层>第3章 运输层</a><ol><li><a id=contents:运输层概述 href=#运输层概述><strong>运输层概述</strong></a></li><li><a id=contents:运输层和网络层的关系 href=#运输层和网络层的关系><strong>运输层和网络层的关系</strong></a></li><li><a id=contents:多路复用与多路分解 href=#多路复用与多路分解><strong>多路复用与多路分解</strong></a></li><li><a id=contents:无连接运输udp href=#无连接运输udp>无连接运输UDP</a></li><li><a id=contents:构造可靠数据传输协议 href=#构造可靠数据传输协议>构造可靠数据传输协议</a><ol><li><a id=contents:rdt10 href=#rdt10>rdt1.0</a></li><li><a id=contents:rdt20 href=#rdt20>rdt2.0</a></li><li><a id=contents:rdt21 href=#rdt21>rdt2.1</a></li><li><a id=contents:rdt22 href=#rdt22>rdt2.2</a></li><li><a id=contents:rdt30 href=#rdt30>rdt3.0</a></li></ol></li><li><a id=contents:流水线可靠数据传输协议 href=#流水线可靠数据传输协议>流水线可靠数据传输协议</a><ol><li><a id=contents:回退n步go-back-ngbn-滑动窗口协议 href=#回退n步go-back-ngbn-滑动窗口协议>回退N步(Go Back N，GBN) ,滑动窗口协议</a></li><li><a id=contents:选择重传selective-repeatsr href=#选择重传selective-repeatsr>选择重传（Selective Repeat，SR）</a></li></ol></li><li><a id=contents:面向连接的运输tcp href=#面向连接的运输tcp>面向连接的运输TCP</a><ol><li><a id=contents:三次握手 href=#三次握手>三次握手</a></li><li><a id=contents:四次挥手 href=#四次挥手>四次挥手</a></li></ol></li><li><a id=contents:拥塞控制原理 href=#拥塞控制原理>拥塞控制原理</a></li></ol></li><li><a id=contents:第4章-网络层数据平面 href=#第4章-网络层数据平面>第4章 网络层：数据平面</a><ol><li><a id=contents:路由器工作原理 href=#路由器工作原理>路由器工作原理</a></li><li><a id=contents:ipv4 href=#ipv4>IPv4</a></li><li><a id=contents:网络地址转换 href=#网络地址转换>网络地址转换</a></li><li><a id=contents:ipv6 href=#ipv6>IPv6</a></li></ol></li><li><a id=contents:第5章-网络层控制平面 href=#第5章-网络层控制平面>第5章 网络层：控制平面*</a><ol><li><a id=contents:路由选择算法 href=#路由选择算法>路由选择算法</a><ol><li><a id=contents:ospf href=#ospf>OSPF</a></li><li><a id=contents:bgp href=#bgp>BGP</a></li></ol></li><li><a id=contents:sdn控制平面 href=#sdn控制平面>SDN控制平面</a></li><li><a id=contents:icmp因特网控制报文协议 href=#icmp因特网控制报文协议>ICMP：因特网控制报文协议</a></li></ol></li><li><a id=contents:第6章-链路层和局域网 href=#第6章-链路层和局域网>第6章 链路层和局域网</a><ol><li><a id=contents:差错检测和纠正技术 href=#差错检测和纠正技术>差错检测和纠正技术</a><ol><li><a id=contents:奇偶校验 href=#奇偶校验>奇偶校验</a></li><li><a id=contents:检验和方法 href=#检验和方法>检验和方法</a></li><li><a id=contents:循环冗余检测 href=#循环冗余检测>循环冗余检测</a></li></ol></li><li><a id=contents:多路访问链路和协议 href=#多路访问链路和协议>多路访问链路和协议</a></li><li><a id=contents:交换局域网 href=#交换局域网>交换局域网</a></li><li><a id=contents:以太网 href=#以太网>以太网</a><ol><li><a id=contents:链路层交换机 href=#链路层交换机>链路层交换机</a></li></ol></li><li><a id=contents:数据中心网络 href=#数据中心网络>数据中心网络</a></li></ol></li></ol></nav><div class="post-body e-content"><h1 id=第1章-计算机网络和因特网><a href=#第1章-计算机网络和因特网 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第1章-计算机网络和因特网 class=headings>第1章 计算机网络和因特网</a></h1><h2 id=什么是因特网><a href=#什么是因特网 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:什么是因特网 class=headings>什么是因特网</a></h2><ul><li><strong>计算机网络</strong>（computer network）；<strong>主机</strong>（host）；<strong>端系统</strong>（endsystem）；<strong>传输速率</strong>（transmission rate）；<strong>分组</strong>（packet）；因特网服务提供商( Internet Service Provider, <strong>ISP</strong>)每个 ISP 自身就是个由多台分组交换机和多段通信链路组成的网络；<strong>协议</strong>（protocol）；<strong>TCP</strong> (Transmission Control ProtocoI ，传输控制协议)；<strong>IP</strong>( lnternet Protocol ，网际协议)；因特网的主要协议统称为 <strong>TCP/IP</strong> ；因特网标准(Internet standard)由因特网工程任务组(Intemet Engineering Task Force , <strong>IETF</strong>)；IETF 的标准文档称为请求评论(Request,For Cornment , <strong>RFC</strong>)</li><li>分布式应用程序(distributed application)：应用程序涉及多个相互交换数据的端系统。</li><li>套接字接口(<strong>socket</strong> interface)：规定了运行在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序交付数据的方式。</li></ul><hr><h2 id=网络边缘-接入网络方式><a href=#网络边缘-接入网络方式 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:网络边缘-接入网络方式 class=headings>网络边缘-接入网络方式</a></h2><p>1.拨号上网</p><p>简介：是指通过本地电话线经由调制解调器连接互联网，于1990年代网络刚兴起时比较普及，但因收费昂贵、速度慢，渐被宽带连线取代。</p><p>特点：</p><ol><li>有电话线路的话，没有与电话公司另外的线路的特别契约和工程就能利用。</li><li>通信速度在模拟调制解调器中到最高56kbps，在ISDN中到64kbps～128kbps（在INS网络64的情况下），在固定电话线路的情况下较低。</li><li>如果连接到互联网通常，给电话公司的电话费和到ISP的连接费用，分别被收费（以下）。</li></ol><p>2.ISDN综合业务数字网（Integrated Services Digital Network，ISDN）</p><p>简介：</p><p>对电话线进行改良，升级到ISDN。通过普通的铜缆以更高的速率和质量传输语音和数据。除了基本的打电话功能之外，ISDN还能提供视频、视频会议、图像、传真、远距教学、个人电脑通信与数据服务。ISDN需要一条全数字化的网络用来承载数字信号，故又称作“一线通”。</p><p>结构：ISDN有2种信道B和D，B代表Bearer，D代表Delta；</p><p>B信道用于数据和语音信息；</p><p>D信道用于信号和控制（也能用于数据）。</p><p>访问方式：</p><p>基本速率接口（BRI）：由每个带宽64kbps的2个B信道和一个带宽16kbps的D信道组成。三个信道设计成2B+D0。</p><p>主速率接口（PRI）：由很多的B信道和一个带宽64Kbps的D信道组成，B信道的数量取决于不同的国家。</p><p>语音调用通过数据通道（B）传送，控制信号通道（D）用来设置和管理连接。调用创建的时候，一个64K的同步信道被创建和占用，直到调用结束。每一个B通道都可以创建一个独立的语音连接。多个B通道可以通过复用合并成一个高带宽的单一数据信道。</p><p>终端品种：</p><ol><li>ISDN网络终端：是用户传输线路的终端装置，是实现在普通电话线上进行数字信号传送和接受的关键设备，是电话局程控交换机和用户的终端设备之间的接口。常用的网络终端有基本速率网络终端NTI和NTI PLUS两种。</li><li>ISDN用户终端：主要有“TA适配器”和“ISDN路由器”两种。终端适配器（TA）主要用于将计算机高速接人Internet，实现数据通信，可分为内置式和外置式两种，内置与外置TA在性能上基本相同。</li><li>ISDN路由器：ISDN路由器作为连接不同类型网络的路由设备，为局城网直接接人Internet提供了一个接口，从而使得网吧中所有的计算机都可以通过它直接接入Internet。</li></ol><p>3.ADSL（非对称用户数字线路，英语：Asymmetric Digital Subscriber Line）</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled.png></p><p>简介：ADSL是DSL服务中的一种，ADSL因为上行和下行带宽不对称（即上行和下行的速率不相同）因此称为非对称数字用户线路。它采用频分多路复用技术把普通的电话线分成了电话、上行和下行三个相对独立的信道，从而避免了相互之间的干扰。通常ADSL在不影响正常电话通信的情况下可以提供最高3.5Mbps的上行速度和最高24Mbps的下行速度。</p><p>设备：</p><p>服务商端：需要将每条开通ADSL业务的电话线路连接在数字用户线路访问多路复用器（DSLAM）上。</p><p>用户端：由于ADSL使用高频信号，所以在两端还都要使用ADSL信号分离器（splitter）将ADSL数据信号和普通音频电话信号分离出来，避免打电话的时候出现噪音干扰。通常的ADSL终端有一个电话Line-In，一个以太网口，有些终端集成了ADSL信号分离器，还提供一个连接的Phone接口。</p><p>网络登录方式：</p><ol><li>桥接，直接提供静态IP。</li><li>PPPoA，基于ATM的端对端协议。</li><li>PPPoE，基于以太网的端对端协议。</li></ol><p>ASDL对比ISDN：</p><ol><li>ADSL采用的是专线的连接方式，ADSL调制解调器与网络总是处于连接的状态，这样就免去了拨号上网的步骤，当然也就不会遇到占线的情况了。</li><li>都可以同时实现数据和电话的通信，ISDN的电话通信是在ISDN信道上实现的，因而本地断电的时候会造成无法打电话的问题，而ADSL无论家里是否有电，都不用担心打不了电话。</li><li>ADSL技术采用的是独享带宽，ISDN采用的共享带宽，速度上ADSL远远超越ISDN。</li><li>ISDN 一般用在上传比较频繁的网络环境。ADSL 就用在下载比较多的环境。</li><li>ISDN是对称性网络传输。ADSL是非对称性网络传输。</li></ol><p>DSL数字用户线路（Digital Subscriber Line，缩写：DSL）：</p><p>DSL简介：</p><p>是通过铜线或者本地电话网提供数字连接的一种技术，是以电话线为传输介质的传输技术组合。由于DSL 接入方案无需对电话线路进行改造，可以充分利用可以已经被大量铺设的电话用户环路，大大降低额外的开销。因此，利用铜缆电话线提供更高速率的因特网接入，更受用户的欢迎。</p><p>DSL设备：</p><ul><li>用户终端设备是DSL调制解调器。它转换二进制数据到数字电脉冲，使得信号在数字音频流的频段内传输。</li><li>如果用户在同一根线路上使用老式电话，还需要加装一个被动电子滤波器（很多叫法，"滤波器"，"微分器"或者"分路器"）（可能还有助于改善DSL终端信号抑止回声信号）。</li><li>在交换局端使用数字用户线接入复用设备（DSLAM）将DSL电路上的数据汇聚然后转发到其他的网络。它还能分离出语音部分。</li></ul><p>DSL技术分类（有时也叫xDSL）:</p><ul><li>ADSL（非对称用户数字线路，英语：Asymmetric Digital Subscriber Line）</li><li><a href="https://zh.wikipedia.org/w/index.php?title=HDSL&action=edit&redlink=1" target=_blank rel=noopener>HDSL</a>（高速用户数字线）</li><li><a href="https://zh.wikipedia.org/w/index.php?title=RADSL&action=edit&redlink=1" target=_blank rel=noopener>RADSL</a>（速率自适应数字用户线路）</li><li><a href=https://zh.wikipedia.org/wiki/SDSL target=_blank rel=noopener>SDSL</a>（对称数字用户线路，标准版HDSL）</li><li><a href=https://zh.wikipedia.org/wiki/VDSL target=_blank rel=noopener>VDSL</a>（超高速用户数字线）</li><li><a href="https://zh.wikipedia.org/w/index.php?title=G.SHDSL&action=edit&redlink=1" target=_blank rel=noopener>G.SHDSL</a>（<a href=https://zh.wikipedia.org/wiki/ITU-T target=_blank rel=noopener>ITU-T</a>标准替换早期SDSL）</li><li><a href="https://zh.wikipedia.org/w/index.php?title=VDSL2&action=edit&redlink=1" target=_blank rel=noopener>VDSL2</a>（超高速用户数字线2）</li></ul><p>4.光纤到户（Fiber To The Home）</p><p>简介：是一种<a href=https://zh.wikipedia.org/wiki/%E5%85%89%E7%BA%96%E9%80%9A%E8%A8%8A target=_blank rel=noopener>光纤通信</a>的传输方法。是直接把<a href=https://zh.wikipedia.org/wiki/%E5%85%89%E7%BA%96 target=_blank rel=noopener>光纤</a>接到<a href=https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7 target=_blank rel=noopener>用户</a>的家中（用户所需的地方）。这种光纤通信方式及策略与<a href=https://zh.wikipedia.org/wiki/FTTx target=_blank rel=noopener>FTTN</a>、<a href=https://zh.wikipedia.org/wiki/FTTx target=_blank rel=noopener>FTTC</a>、<a href="https://zh.wikipedia.org/w/index.php?title=HFC&action=edit&redlink=1" target=_blank rel=noopener>HFC</a>（Hybrid Fiber Coaxial）等也不同，它们都是需要依赖传统的金属电线，包括<a href=https://zh.wikipedia.org/wiki/%E5%8F%8C%E7%BB%9E%E7%BA%BF target=_blank rel=noopener>双绞线</a>及<a href=https://zh.wikipedia.org/wiki/%E5%90%8C%E8%BB%B8%E9%9B%BB%E7%BA%9C target=_blank rel=noopener>同轴电缆</a>等作“<a href=https://zh.wikipedia.org/wiki/%E6%9C%80%E5%BE%8C%E4%B8%80%E5%85%AC%E9%87%8C target=_blank rel=noopener>最后一公里</a>”的信息传输。</p><p>应用中使用常常是共享光纤，共享光纤分布体系结构：</p><ul><li>主动光纤网络(.Active Optical Network , AON)： 本质上就是交换因特网，我们将在第 6 章讨论它 。</li><li>被动光纤网络(.Passive Optical Network , PON) ：用电源就可以完成信号处理，就像家里的镜子，不需要电就能反射影像。</li></ul><p>5.宽带上网</p><p>介绍：宽带上网常采用FTTx光纤+局域网（LAN）接入、ADSL局域网接入两种方案，这两种方案其实是两种共享接入网络的方式。</p><p>FTTx光纤+局域网（LAN）接入是一种利用光纤加五类网线方式实现的宽带接入方案。它以千兆光纤连接到小区中心交换机，中心交换机和楼道交换机以百兆光纤或五类网络线相连，然后再用网线连接到各用户的计算机上。</p><p>ADSL局域网（LAN）接入是ADSL业务的拓展，其资费更便宜。其原理是将带路由的ADSL+MODEM安装到小区或居民楼，然后再通过HUB（集线器）或交换机以及RJ45网线连接到各用户家的电脑上，它不再需要用户配备ADSL+MODEM，用户只需要电脑上有网卡（网络适配卡）就可随时的上网了。</p><p>6.有线电视上网</p><p>中文名称：混合光纤同轴电缆</p><p>英文名称：Hybrid Fiber Coaxial</p><p>简称：HFC</p><p>简介：Cable+Modem电缆调制解调器（简称CM）主要用于有线电视网进行数据传输。它是xDSL技术最大的竞争对手，广（播）电（视）部门在有线电视（CATV）网上开发的宽带接入技术已经成熟并进入市场。Cable+Modem与以往的Modem在原理上都是将数据进行调制后在Cable（电缆）的一个频率范围内传输，接收时进行解调，传输机理与普通Modem相同，不同之处在于它是通过有线电视CATV的某个传输频带进行调制解调的。</p><p>7.卫星上网</p><p>简介：卫星上网是指由通讯卫星提供的网络存取服务。三颗相距120度的卫星就能覆盖整个赤道圆周，卫星通信易于实现越洋和洲际通信。</p><p>三大部件：一颗通常位于地球静止轨道的卫星。一个地面站，通常作为网关。天线。</p><p>分类：卫星上网通信可以分为双通道通信和单通道仅接收通信。</p><p>潜在问题：卫星上网，需要发射大量卫星以覆盖地球，一些天文学家指出，大量的卫星会妨碍到天文研究及天体观察。</p><h2 id=网络边缘-物理媒介><a href=#网络边缘-物理媒介 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:网络边缘-物理媒介 class=headings>网络边缘-物理媒介</a></h2><p>比特的传输可以是电磁波或光脉冲的形式，通过物理媒介（physical medium）来传输。物理媒介可具有多种形状和形式，且传播途中的“发射器-接收器”不必是相同的物理媒介类型。</p><ul><li>导引型媒体，电波沿着固体媒体前行，如光缆、双绞铜线或同轴电缆 。</li><li>非导引型媒体，电波在空气或外层空间中传播，例如在无线局域网或数字卫星频道中 。</li></ul><p>双绞铜线</p><ul><li>最便宜并且最常用的导引型传输媒体是双绞铜线 。</li><li>双绞线由两根绝缘的铜线组成，每根大约 lmm粗，以规则的螺旋状排列着 。 这两根线被绞合起来，以减少邻近类似的双绞线的电气干扰。通常许多双绞线捆扎在一起形成一根电缆，并在这些双绞线外面覆盖上保护性防护层。一对电线构成了一个通信链路 。</li><li>无屏蔽双绞线(Unshielded Twisted Pair, UTP)常用在建筑物内的计算机网络中，即用于局域网(LAN)中 。</li></ul><p>同轴电缆</p><ul><li>与双绞线类似，同轴电缆由两个铜导体组成，但是这两个导体是同心的而不是并行的。</li><li>同轴电缆在电缆电视系统中相当普遍 。</li><li>同轴电缆能被用作导引型共享媒体(shared medium) ：在电缆电视和电缆因特网接入中，发送设备将数字信号调制到某个特定的频段，产生的模拟信号从发送设备传送到一个或多个接收方 。</li><li>许多端系统能够直接与该电缆相连，每个端系统都能接收由其他端系统发送的内容 。</li></ul><p>光纤</p><ul><li>光纤是一种细而柔软的、能够导引光脉冲的媒体，每个脉冲表示一个比特 。</li><li>不受电磁干扰，长达 100km的光缆信号衰减极低，并且很难窃听 。</li><li>可作为长途导引型传输媒体，特别是跨海链路。许多长途电话网络现在全面使用光纤。</li></ul><p>陆地无线电通道</p><ul><li>元线电信道承载电磁频谱中的信号 。 它不需要安装物理线路，并具有穿透墙壁、提供与移动用户的连接以及长距离承载信号的能力，因而成为一种有吸引力的媒体 。</li><li>极大地依赖于传播环境和信号传输的距离 。</li><li>环境上的考虑取决于路径损耗和遮挡衰落(即当信号跨距离传播和绕过/通过阻碍物体时信号强度降低)、多径衰落(由于干扰对象的信号反射)以及干扰(由于其他传输或电磁信号) 。</li><li>陆地无线电信道能够大致划分为三类:<ul><li>第一类运行在很短距离(如1 米或 2 米)，例如蓝牙耳机、键盘 ;</li><li>第二类类运行在局域，通常跨越数十到几百米，热点，wifi;</li><li>第三类运行在广域，跨越数万米 。</li></ul></li></ul><p>卫星无线电信道</p><ul><li>一颗通信卫星连接地球上的两个或多个微波发射器/接收器，它们被称为地面站 。卫星在一个频段上接收传输，使用一个转发器再生信号，并在另一个频率上发射信号 。</li><li>通信中常使用两类卫星:同步卫星和近地轨道卫星。</li></ul><h2 id=网络核心><a href=#网络核心 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:网络核心 class=headings>网络核心</a></h2><p>网络链路和交挟机移动数据有两种基本方法:电路交换( circuit switching)和分组交换(packet switching)</p><p>报文（message）：能够包含协议设计者需要的任何东西 。</p><h3 id=分组交换><a href=#分组交换 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:分组交换 class=headings>分组交换</a></h3><p>介绍：为了从源端系统向目的端系统发送一个报文，源将报文划分为较小的数据块，称之为分组( packet) 。</p><p>交换机：在源和目的地之间，每个分组部通过通信链路和分组交换机(packet switch) 传送。交换机主要有两类：路由器(rouler)和链路层交换机( link-Iayer switch) 。</p><p>存储转发传输（slore- and- forward t.ransmlssion）：在链路输入端多数使用存储转发传输，交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组 。</p><p>输出缓存（output buffer）：每条相连的链路该分组交换机具有一个输出缓存，用于存储路由器准备发往那条链路的分组 ，也叫做输出队列（output queue）。</p><p>排队时延（queuing delay）：如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待 。</p><p>分组丢失(丢包)(packet loss) ：因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了 。 在此情况下，将出现分组丢失 ，到达的分组或已经排队的分组之一将被丢弃 。</p><p>转发表（forwarding table）：用于将目的地址(或目的地址的一部分)映射成为输出链路 。</p><p>路由选择协议（routing protocol）：用于自动设置转发表，一个路由选择协议可以决定从每台路向器到每个目的地的最短路径，并使 )1J这些最短路径结果来配置路陶器中的转发表。</p><h3 id=电路交换><a href=#电路交换 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:电路交换 class=headings>电路交换</a></h3><p>介绍：电路交换网络中，端系统间通信期间会预留通信所需要的资源，当两手宁主机要通信时，该网络在两台主机之间创建一条专用的端到端连接( end- to- end connection ) 。因此， 主机A为了向主机B发送报文，网络必须在两条链路的每条上先预留一条电路 。</p><p>复用：</p><ul><li>频分复用( Frequency-Division Multiplexing，<strong>FDM</strong>)，收音机电台；</li><li>时分复用(Time- Division Multiplexing，<strong>TDM</strong>) ；</li></ul><p>分组交换和电路交换对比：分组交换的性能能够优于电路交换的性能，许多电路交换方面的应用正在向分组交换方面的应用迁移，电话网经常在昂贵的海外电话部分使用分组交换 。</p><h2 id=分组交换中的时延><a href=#分组交换中的时延 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:分组交换中的时延 class=headings>分组交换中的时延</a></h2><hr><p>分组从源主机出发，经过一系列路由器传输，到达目的主机的过程中会经受几种不同类型的时延，时延总体累加起来是节点总时延（total nodal delay），许多应用受网络时延的影响很大，例如web浏览，地图，即时通讯，ip语音。</p><ul><li>L：分组长度(b)；</li><li>a：分组到达队列的平均速率(pkt/s)；</li><li>R：传输速率(bps)；</li></ul><h3 id=时延分类><a href=#时延分类 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:时延分类 class=headings>时延分类</a></h3><ul><li><p>节点处理时延(nodal processing delay)：包括检查分组首部和决定将该分组到向何处所需要的时间、检查比特级别的差错所需要的时间等。</p></li><li><p>排队时延(queuing delay)：当分组在链路上等待传输时会经受传输时延，取决于先期到达并正在排队等待传输的分组数量。</p><ul><li><p>排队时延对不同的分组可能是不同的 。 例如，如果 10 个分组同时到达空队列，传输的第一个分组没有排队时延，而传输的最后一个分组将经受相对大的排队时延(这时它要等待其他 9 个分 组被传输) 。</p></li><li><p>通常，到达队列的过程是随机的，即到达并不遵循任何模式，分组之间的时间间隔是随机的 。</p></li><li><p>流量强度( traffic intensity)在估计排队时延的范围方面经常起着重要的作用，流量强度=La/R 。设计系统时流量强度不能大于1。</p></li><li><p>平均排队时延与流量强度有关，随着流量强度接近于1 ，平均排队时延迅速增加 。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%201.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%201.png></p></li></ul></li><li><p>传输时延(transmission delay)：假定分组以先到先服务方式传输，那么仅当所有已经到达的分组被传输后，才能传输刚到达的分组。传输时延=L/ R 。传输时延是路由器推出分组所需要的时间，它是分组长度和链路传输速率的函数，而与两台路由器之间的距离无关 。</p></li><li><p>传播时延(propagation delay)：从链路起点到链路终点所需要的时间是传播时延，取决于物理媒介。传播时延是一个比特从一台路由器传播到另一台路由器所需要的时间，它是两台赂由器之间距离的两数，而与分组长度或链路传输速率元关 。</p></li></ul><p>丢包</p><p>现实中的一条链路的容量是有限的，排队容量极大地依赖于路由器设计和成本，随着流量强度接近1。排队时延不会趋向无限大，新到达的分组发现队列已满，路由器没有地方再存储这个分组，路由器将丢弃(drop)该分组，分组将发生丢失(lost)。分组丢失的比例随着流量强度增加而增加 。</p><p>端到端时延</p><ul><li>在线Traceroute路由追踪工具： <a href=https://coding.tools/cn/traceroute target=_blank rel=noopener>https://coding.tools/cn/traceroute</a></li><li>其他时延：媒体分组化时延：出现在IP语音应用中。</li></ul><p>吞吐量</p><ul><li>瞬时吞吐量(instantaneous throughput)：在任何时间瞬间某主机接收到文件的速率(bps)；</li><li>平均吞吐量(average throughput)：文件总比特量F / 接受所有比特所用时间T。 F/T bps。</li><li>瓶颈链路(bottleneck link)传输速率。</li><li>今天因特网中对吞吐量的限制因素通常是接入网 。还取决于其他干扰流量、管道中的最小传输速率等。</li></ul><h2 id=协议层次及其服务模型><a href=#协议层次及其服务模型 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:协议层次及其服务模型 class=headings>协议层次及其服务模型</a></h2><ul><li>利用分层的体系结构，我们可以讨论一个大而复杂系统的定义良好的特定部分。</li><li>由于提供模块化而具有很高价值，这使某层所提供的服务实现易于改变。只要该层对上层提供相同服务，并使用下层提供的服务，那么当该层发生变化时，该系统其余部分可保持不变。</li></ul><h3 id=tcpip-模型><a href=#tcpip-模型 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:tcpip-模型 class=headings>TCP/IP 模型</a></h3><p>一个协议层能够用软件、硬件或两者的结合来实现 。 诸如 HTTP 和 SMTP 这样的应用层协议几乎总是在端系统中用软件实现。各层的所有协议被称为协议栈(protocol stack) 。因特网的协议栈由5层组成。</p><p>应用层</p><p>介绍：是网络应用程序及它们的应用层协议存留的地方 。</p><p>信息分组：报文（message）</p><p>协议：</p><ul><li>HTTP (它提供了 Web 文档的请求和 传送；</li><li>SMTP (它提供了电子邮件报文的传 输 )；</li><li>FTP (它提供两个端系统之间的文件传 送) 。</li></ul><p>运输层</p><p>介绍：在应用程序端点之间传送应用层报文。</p><p>信息分组：报文段（segment）</p><p>协议：</p><ul><li>TCP（Transmission Control Protocol，传输控制协议）：面向连接服务；流量控制；拥塞控制</li><li>UDP（User Datagram Protocol，用户数据报协议）：无连接服务；没有可靠性；没有流量控制；没有拥塞控制；不提供任何不必要的服务。</li></ul><p>网络层</p><p>介绍：将数据报从一台主机移动到另一台主机。</p><p>信息分组：数据报（datagram）</p><p>协议：</p><ul><li>IP（Internet Protocol，网际互连协议）：定义数据报中的各个字段以及端系统和路由器如何作用于这些字段；</li><li>路由选择协议等....</li></ul><p>链路层</p><p>介绍：网络层将数据报下传给链路层，链路层沿着路径将数据报传递给下一个节点。下一个节点中，链路层将数据报上传给网络层 。</p><p>信息分组：帧（frame）</p><p>协议：以太网、WiFi 和电缆接入网的 DOCSIS 协议等 。</p><p>物理层</p><p>介绍：将链路层帧中的一个个比特从一个节点移动到下一个节点。</p><p>信息分组：比特（bit）</p><p>协议：与该链路(例如，双绞铜线、单模光纤)的实际传输媒体相关的协议。</p><h3 id=osi模型><a href=#osi模型 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:osi模型 class=headings>OSI模型</a></h3><p>20 世纪 70 年代后期，国际标准化组织( ISO)提出计算机网络围绕 7 层来组织，称为开放系统互联（OSI）模型。</p><p>7 层是:应用层、表示层、会话层、运输层、网络层、数据链路层和物理层 。</p><ul><li>表示层的作用是使通信的应用程序能够解释交换数据的含义 。服务包括数据压缩、数据加密、数据描述（使应用程序不必担心各种计算机内部格式不同问题）。</li><li>会话层提供了数据交换的定界和同步功能，包括了建立检查点和恢复方案的方法 。</li></ul><p>封装</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%202.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%202.png></p><h2 id=面对攻击的网络><a href=#面对攻击的网络 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:面对攻击的网络 class=headings>面对攻击的网络</a></h2><p>因特网最初就是基于" 一群相互信任的用户连接到一个透明的网络上"这样的模型进行设计的，在这样的模型中，安全性是没有必要的 。</p><p>攻击个人计算机：</p><p>恶意软件能够以病毒或蠕虫的形式扩散。</p><p>病毒( virus) ：是一种需要某种形式的用户交互来感染用户设备的恶意软件 。</p><p>蠕虫( worm) 是一种无须任何明显用户交互就能迸人设备的恶意软件 。</p><p>攻击服务器和网络基础设施：</p><p>拒绝服务攻击(Denial-of-Service[DOS] attack)：使得网络、主机或其他基础设施部分不能由合法用户使用 。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%203.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%203.png></p><p>大多数因特网 DoS 攻击属于下列三种类型之一 :</p><ol><li>弱点攻击 。 这涉及向一 台目标主机上运行的易受攻击的应用程序或操作系统发送制作精细的报文 。</li><li>带宽洪泛 。 攻击者向目标主机发送大量的分组，分组数量之多使得目标的接入链路变得拥塞，使得合法的分组无法到达服务器 。</li><li>连接洪泛 。 攻击者在目标主机中创建大量的半开或全开 TCP 连接，迫使服务器停止接受合法连接。</li></ol><p>嗅探分组：</p><p>记录每个流经的分组副本的被动接收机被称为分组嗅探器(packet sniffer) ，例如Wireshark。</p><p>IP 哄骗(IP spoofing) ：将具有虚假源地址的分组注入因特网的能力被称为 IP 哄骗，而它只是一个用户能够冒充另一 个用户的许多方式中的一种 。</p><h2 id=计算机网络和因特网历史><a href=#计算机网络和因特网历史 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:计算机网络和因特网历史 class=headings>计算机网络和因特网历史</a></h2><ul><li>分组交换的发展: 1961 -1972</li><li>专用网络和网络互联: 1972 -1980</li><li>网络的激增 :1980~1990</li><li>因特网爆炸 :20 世纪 90 年代，主要事件是万维网(World Wide Web)应用程序的出现</li><li>到了 2000 年末，因特网已经支持数百流行的应用程序，包括以下 4 种备受欢迎的应用程序：<ul><li>电子邮件（包括附件和 Web 可访问的电子邮件）；</li><li>Web （包括 Web 浏览和因特网商务）；</li><li>即时讯息(instant messaging) ；</li><li>MP3的对等(peer-to-peer)文件共享。</li></ul></li></ul><h1 id=第2章-应用层><a href=#第2章-应用层 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第2章-应用层 class=headings>第2章 应用层</a></h1><p>研发网络应用程序的核心是写出能够运行在不同的端系统和通过网络彼此通信的程序。分层模型的设计将应用软件限制在端系统，促进了大量的网络应用程序的迅速研发和部署。</p><h2 id=应用层协议原理><a href=#应用层协议原理 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:应用层协议原理 class=headings>应用层协议原理</a></h2><p>体系结构</p><p>应用程序体系结构(application architecture)，由应用程序研发者设计，规定了如何在各种端系统上组织该应用程序。如“客户-服务器”(浏览器等)，“P2P体系结构”（视频通话等）。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%204.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%204.png></p><p>进程通信</p><ul><li>运行在多个端系统上的程序是如何互相通信的？用操作系统的术语来说进行通信的实际上是进程(process)而不是程序 。</li><li>运行在一台主机上的多个程序如何进行相互通信？使用进程间通信机制相互通信。进程间通信的规则由端系统上的操作系统确定。</li><li>进程通过一个称为套接字( socket)的软件接口向网络发送报文和从网络接收报文 。套接字是同一台主机内应用层与运输层之间的接口 。由于该套接字是建立网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的<strong>应用程序编程接口(Application Programming , Interface , API) 。</strong></li><li>应用程序开发者可控制套接字在应用层端的一切，但是对套接字的运输层几乎没有控制权，控制权仅限于:①选择运输层协议;②也许能设定几个运输层参数，如最大缓存和最大报文段长度等。</li><li>进程寻址：①主机ip地址；②端口号（在目的主机中指定接收进程的标识符 ）；已经给流行的应用分配了特定的端口号 。例如web使用80端口。</li></ul><p>可供应用程序使用的运输服务</p><p>从四个方面对应用程序服务要求进行分类：</p><ul><li>可靠数据传输，容忍丢失的应用如多媒体。</li><li>吞吐量，带宽敏感的应用程序和弹性应用。</li><li>定时，如视频通话、网游对时延有要求。</li><li>安全性。</li></ul><p>因特网提供的运输服务：</p><ul><li>因特网(更一 般的是 TCP/ IP网络)为应用程序提供两个运输层协议，即UDP和TCP。</li><li>无论TCP还是UDP都没有提供任何加密机制，可能在任何中间链路被唤探和发现。研制了 TCP 的加强版本，称为 <strong>安全套接字层(Secure Sockets Layer, SSL)</strong> 。除了TCL做的一切外，还提供了加密、数据完整性、端点鉴别等功能。<strong>SSL 不是与 TCP 和 UDP 在相同层次上的第三种因特网运输协议，而是一种在应用层上对 TCP 的加强。</strong></li></ul><p>因特网运输协议所不提供的服务：</p><ul><li>TCP提供“可靠的数据传输”，SSL也是对TCP安全性的加强，但是漏掉了对“吞吐量”、“定时保证”的服务。</li><li>因特网电话应用的开发者通常愿意将该应用运行在 UDP 上，从而设法避开 TCP 的拥塞控制机制和分组开销 。但因为许多防火墙被配置成阻挡(大多数类型的 )UDP 流量，所以因特网电话应用通常设计成如果 UDP 通信失败就使用 TCP 作为备份 。</li></ul><p>应用层协议</p><p>应用层协议( application-layer prolocol)定义了运行在不同端系统上的应用程序进程如何相互传递报文。定义了：</p><ul><li>交换的报文类型，例如请求报文和响应报文 。</li><li>各种报文类型的语法，如报文中的各个字段及这些字段是如何描述的 。</li><li>字段的语义，即这些字段中的信息的含义。</li><li>确定一个进程何时以及如何发送报文，对报文进行响应的规则 。</li></ul><p>区分网络应用和应用层协议是很重要的，应用层协议只是网络应用的一部分。</p><h2 id=web和http><a href=#web和http class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:web和http class=headings>Web和HTTP</a></h2><p>20 世纪 90 年代初期，一个新型应用万维网(World Wide Web)登上舞台。Web 页面是由对象组成的，图片图形等都称为对象。Web的应用层协议是**超文本传输协议(HyperText Transfer .Protocol , HTTP)，**HTTP是 Web的核心，由一个客户程序和一个服务器程序实现。HTTP 使用TCP作为支撑运输协议。</p><ul><li>HTTP 定义了 Web 客户向 Web 服务器请求 Web 页面的方式，以及服务器向客户传送 Web 页面的方式 。</li><li>HTTP 使用TCP作为支撑运输协议，因而HTTP协议不用担心数据丢失 ，也不关注TCP从网络的数据丢失和乱序故障中恢复的细节，那是 TCP 以及协议校较低层协议的工作 。</li><li>HTTP服务器并不保存关于客户的任何信息，HTTP是一个无状态协议（stateless protocol） 。</li></ul><p>持续连接和非持续连接</p><p>非持续连接：每个请求和相应对都是经过一个单独的TCP连接发送。必须为每一个请求的对象建立和维护一个全新的连接 。每一个对象经受两倍往返时间的交付时延，即一个往返时间用于创建TCP，另一个往返时间用于请求和接收一个对象 。</p><p>持续连接：所有的请求和相应都经相同的TCP连接发送。</p><p>报文格式：HTTP报文分为请求报文和响应报文</p><p>用户与服务器交互：cookie</p><p>因为服务器希望限制用户的访问或希望把内容与用户身份联系起来，HTTP使用了cookie。cooke技术有4个组件：请求和响应报文中的一个cookie首部行；用户端保留的cookie；web站点后端数据库保存的cookie；cookie的使用仍然具有争议，结合cookie 和用户提供的账户信息，Web 站点可以知道许多有关用户的信息，并可能将这些信息卖给第三方 。</p><p>代理服务器proxy server</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%205.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%205.png></p><p>Web 缓存器(Web cache)也叫代理服务器(proxy server) ，它是能够代表初始 Web 服务器来满足HTTP请求的网络实体。既是服务器又是客户，当它接收浏览器的请求并发回响应时，它是一个服务器 。 当它向初始服务器发出请求并接收响应时，它是一个客户 。</p><p>通过使用<strong>内容分发网络( Content Distribution Network , CDN)</strong> , Web缓存器正在因恃网中发挥着越来越重要的作用 。CDN 公司在因特网上安装了许多地理上分散的缓存器，因而使大量流量实现了本地化。</p><p>条件GET方法</p><p>如果①请求报文使用 GET方法;并且②请求报文中包含一“If-Modìfied-Since: "首都行，那么，这个 HTTP 请求报文就是一个条件 GET 请求报文，用于检查缓存服务器上的对象是否和源服务器上的对象最后修改时间是否一致，一致则将缓存器上的对象返回给客户端，不一致则拉取源服务器上的对象保存到缓存器上并返回给客户。</p><h2 id=电子邮件><a href=#电子邮件 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:电子邮件 class=headings>电子邮件</a></h2><p>电子邮件是一种异步通信媒介，即当人们方便时就可以收发邮件，不必与他人的计划进行协调 。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%206.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%206.png></p><p>电子邮件系统三个主要组成部分：用户代理(user agent) 、邮件服务器(mail server)和 简单邮件传输协议(SimpleMail Transfer Protocol , SMTP)</p><p>用户代理允许用户阅读、回复、转发、保存和撰写报文 。 微软的 Outlook 和 Apple Mail 是电子邮件用户代理的例子 。</p><p>邮件服务器形成了电子邮件体系结构的核心 。 每个接收方在其中的某个邮件服务器上有一个邮箱(mailbox)。</p><p>SMTP（Simple Mail Transfer Protocol，简单邮件传输协议）是因特网电子邮件中主要的应用层协议 ，使用 TCP 可靠数据传输服务，既做服务端也做客户端。SMTP是建立在FTP文件传输服务上的一种邮件服务，端口号为25。一般不使用中间邮件服务器发送邮件，即使这两个邮件服务器位于地球的两端也是这样，邮件并不在中间的某个邮件服务器存留。</p><p>SMTP对比HTTP</p><ul><li>HTTP 主要是一个拉协议(pull protocol) , 即在方便的时候，某些人在 Web 服务器上装载信息，用户使用 HTTP 从该服务器拉取这些信息。TCP连接是由像接收文件的机器发起的。HTTP 把每个对象封装到它自己的 HTTP 响应报文中，</li><li>SMTP 基本上是一个推协议( push protocol) ，即发送邮件服务器把文件推向接收邮件服务器。TCP连接是由要发送该文件的机器发起的。SMTP把所有报文对象放在一个报文之中 。SMTP 要求每个报文(包括它们的体)采用 7 比特 ASCII 码格式 。</li></ul><p>邮件访问协议</p><p>20世纪90年代早期及之前：SMTP将邮件报文从发送方服务器 交付到 接收方服务器，接收方需要登陆服务器主机来阅读邮件。个人PC一直保持在线是不现实的，所以通常由ISP进行维护一个代理服务器来存储接收到的邮件。</p><p>现在：邮件访问使用了一种“客户-服务器”体系结构。</p><p>SMTP是推协议，将邮件报文推送到目的服务器，而个人则需要从代理服务器上拉取邮件报文。目前有一些流行的邮件访问协议（拉取方式），例如<strong>POP3(第三版邮局协议，Post Office Protocol-Version3)</strong>、**IMAP(因特网邮件访问协议，Internet Mail Access Protocol)**以及HTTP。</p><p>POP3是一个简单的邮件访问协议</p><ul><li>第①阶段为“特许阶段”，用户代理以明文形式发送用户名和口令鉴别用户；</li></ul><p>第②阶段为“事务处理阶段”，用户代理取回报文，并可以对报文添加删除标记，取消删除标记，获取统计信息等；</p><p>第③阶段为“更新阶段”，客户端发出quit命令结束POP3会话，邮件服务器删除标记的报文。</p><ul><li>使用POP3的用户代理通常有两种选项，“下载并删除”和“下载并保留”，下载后会保存在本地服务器并根据用户选项判断是否删除服务器上的存档。</li><li>如果更换一台端设备，就需要重新通过POP3协议在邮件服务器上获取，但在之前设备上所作的标记都没有了，例如保存到另一个文件夹，星标等等。</li></ul><p>IMAP也是一个邮件访问协议，比POP3更具有特色，也复杂很多。IMAP服务器可以把每一个报文与一个文件夹联系起来，用户可以把在服务器上的邮件移动到另外一个文件夹等。还提供了创建文件夹、移动到另外一个文件夹、在远程文件夹中查询邮件、获取邮件报文某些部分等功能。</p><p>基于Web的电子邮件：越来越多的人使用浏览器作为用户代理，与远程邮箱之间的通信通过HTTP进行。但是发送人邮件服务器 到 收件人邮件服务器的过程仍然是使用的SMTP协议。</p><h2 id=dns因特网的目录服务><a href=#dns因特网的目录服务 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:dns因特网的目录服务 class=headings>DNS：因特网的目录服务</a></h2><p>域名系统( Domain Name System , DNS)是①一个由分层的 DNS 服务器(DNS server) 实现的分布式数据库;②一个使得主机能够查询分布式数据库的应用层协议。DNS 协议运行在 UDP 之上，使用 53 号端口 。除了进行主机名到陀地址的转换外，DNS 还提供了一些重要的服务：主机别名(host aliasing) ，多个域名指向一个主机；邮件服务器别名( mail server aliasing) ；负载分配。从用户主机上调用应用程序的角度看，DNS 是一个提供简单、直接的转换服务的黑盒子 。</p><p>DNS如果只使用一个服务器，则可能会包括：</p><ul><li>单点故障(a single point of failure) 。 如果该 DNS 服务器崩溃，整个因特网随之瘫痪!</li><li>通信容量( traffic volume) 。 单个 DNS 服务器不得不处理所有的 DNS 查询(用于为上亿台主机产生的所有 HTTP 请求报文和电子邮件报文服务)。</li><li>远距离的集中式数据库，往返时间长。</li><li>维护困难，需要频繁更新。</li></ul><p>分布式、层次数据库</p><ul><li>根DNS服务器：根名字服务器遍布世界，由13个不同的组织管理。</li><li>顶级域DNS服务器：例如com,cn等。</li><li>权威DNS服务器：一个组织机构的权威DNS服务器保存一些DNS记录，例如Web、邮件等对应的ip地址。</li><li>本地DNS服务器</li></ul><p>DNS缓存：改善时延性能，将映射缓存到本地存储器中，缓存在过一段时间(通常设置为2天)后将自动丢弃。</p><p>DNS记录：DNS服务器上存储了资源记录，资源记录提供了主机名到IP地址的映射。资源记录是包含4个字段的4元组：[Name,Value,Type,TTL]。TTL是该记录的生存时间，决定资源记录从缓存中删除的时间。Name和Value取决于Type。Type可以为A（Name 是主机名:Value 是该主机名对应的 IP 地址 。）、NS（Name是个域:Value是相应地址）、CNAME（Name是别名:Value是对应的规范主机名）、MX等。</p><p>DNS报文：DNS只有“查询报文”和“问答报文”两种。</p><p>DNS安全</p><ol><li>分布式拒绝服务(DDoS)带宽洪泛攻击</li><li>向顶级域名服务器发送大量请求</li><li>中间人攻击中伪造请求和回答</li></ol><h2 id=p2p文件分发><a href=#p2p文件分发 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:p2p文件分发 class=headings><strong>P2P文件分发</strong></a></h2><p>对等式网络(peer-to-peer)，又称为点对点技术，是无中心服务器、依靠用户群（peers）交换信息的互联网体系，它的作用在于，减低以往网路传输中的节点，以降低资料遗失的风险。与有中心服务器的中央网络系统不同，对等网络的每个用户端既是一个节点，也有服务器的功能，任何一个节点无法直接找到其他节点，必须依靠其户群进行信息交流。P2P节点能遍布整个互联网，也给包括开发者在内的任何人、组织或政府带来监控难题。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316133419593.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/image-20210316133419593.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316133433980.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/image-20210316133433980.png></p><h2 id=视频流和cdn><a href=#视频流和cdn class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:视频流和cdn class=headings><strong>视频流和CDN</strong></a></h2><p>视频：视频是一系列的图像，通常以一种恒定的速率(如每秒 24 或 30 张图像)来展现。一幅未压缩、数字编码的图像由像素阵列组成，每个像素由一些比特编码来表示亮度和颜色 。视频的一个重要特征是它能够被压缩，因而可用比特率来权衡视频质量 。比特率越高图像质量越好用户的总体视觉感受越好。为了提供连续不断的布局，网络必须为流式应用提供平均吞吐量，这个流式应用至少与压缩视频的比特率一样大 。</p><p>HTTP流：视频存储在服务器中，通过HTTP来传输。缺陷是所有客户接收到相同编码的视频，尽管对不同的客户或者对于相同客户的不同时间而言，客户可用的带宽大小有很大不同。</p><p>DASH(Dynamic Adaptive Streaming over HTTP,经HTTP的动态适应性流)：视频编码为几个不同的版本，其中每个版本具有不同的比特率，对应于不同的质量水平 。客户动态请求来自不同版本长度为几秒的视频段数据块。</p><p>内容分发网（Content Distribution Network,CDN）,大多数 CDN 利用DNS 来截获和重定向请求;</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/image-20210316135113319.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/image-20210316135113319.png></p><h2 id=套接字编程><a href=#套接字编程 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:套接字编程 class=headings>套接字编程</a></h2><p>网络应用程序的分类：一类是“开放的”，遵守一类开放的协议标准；另一类是专用的网络应用程序，没有开放的协议，其他独立开发者不能开发出与该这种应用程序交互的代码。运行在不同机器上的进程彼此通过向套接字发送报文来进行通信 。当生成一个套接字时，就为它分配一个称为端口号(port nunber)的标识符。</p><p>TCP客户发起了一个三次握手并创建与服务器的一个 TCP 连接。发生在运输层的三次握手，对于客户和服务器程序是完全透明的。从应用程序的观点来看，客户套接字和服务器连接套接字直接通过一根管道连接。使用创建的 TCP连接，当一侧要向另一侧发送数据时，它只需经过其套接字将数据丢进 TCP 连接 。UDP 服务器在将分组丢进套接字之前必须为其附上一个目的地址。将源地址附在分组之上通常并不是由 UDP 应用程序代码所为，而是由底层操作系统自动完成的 。TCP 连接的一端与客户套接字相联系，另一端与服务器套接字相联系。</p><h1 id=第3章-运输层><a href=#第3章-运输层 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第3章-运输层 class=headings>第3章 运输层</a></h1><p>运输层协议为运行在不同主机上的应用进程之间提供了逻辑通信(logic-communica-tion) 功能 。通过逻辑通信，运行不同进程的主机好像直接相连一样。</p><h2 id=运输层概述><a href=#运输层概述 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:运输层概述 class=headings><strong>运输层概述</strong></a></h2><p>因特网为应用层提供了TCP和UPD两种运输协议，因特网文献(RFC等)将TCP的运输层分组称为-报文段；常将UDP的分组称为-数据报，也将网络层的称为数据报。本书将TCP和UDP的分组统称为报文段，数据报保留给网络层分组。</p><p>网络层协议有一个网际协议IP，为主机之间提供了逻辑通信，尽最大努力交付报文段，却不确保报文段的交付顺序和完整性等，因此被称为不可靠服务。每台主机都至少有一个网络层地址(IP地址)。</p><h2 id=运输层和网络层的关系><a href=#运输层和网络层的关系 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:运输层和网络层的关系 class=headings><strong>运输层和网络层的关系</strong></a></h2><p>运输层协议是在端系统中而不是路由器中实现，运输层协议将来自应用进程的报文移动到网络边缘(即网络层) ，对有关这些报文在网络核心如何移动并不作任何规定。发送端接收上层报文转换成报文段，并封装成网络层分组“数据报”向目的地发送。接收端的网络层从“数据报”中提取报文段并上传给运输层。</p><p>运输协议能够提供的服务常常受制于底层网络层协议的服务模型。如果网络层协议无法为主机之间发送的运输层报文段提供时延或带宽保证的话，运输层协议也就无法为进程之间发送的应用程序报文提供时延或带宽保证 。</p><h2 id=多路复用与多路分解><a href=#多路复用与多路分解 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:多路复用与多路分解 class=headings><strong>多路复用与多路分解</strong></a></h2><p>一个进程可以有多个套接字，接收主机的运输层并不是将数据直接交给进程，而是将数据交给一个套接字，每个套接字都有标识符，标识是TCP还是UDP套接字。</p><p>从发送主机的不同套接字中收集数据块，并为每个数据块封装不同的首部信息后称之为报文段，将报文段传递到网络层的过程称为多路复用；接收主机中将运输层报文段中的数据交给正确套接字的过程称为多路分解。</p><p>多路复用的要求：套接字有唯一标识符；每个报文段有特殊字段(源端口号字段、目的端口号字段等)；端口号是16比特的数，大小在0-65535之间。0-1023为保留端口，指定给专用的服务。</p><p>UDP套接字有一个二元组表示，二元组包含一个目的ip地址和一个目的端口号；TCP套接字有一个四元组表示，四元组包含源ip地址、源端口号、目的ip地址、目的端口号，其中的源地址和端口用于接收返回的信息。</p><p>连接套接字与进程之间并非总是有着一一对应的关系，高性能Web服务器通常使用一个进程，为每个客户创建线程。</p><h2 id=无连接运输udp><a href=#无连接运输udp class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:无连接运输udp class=headings>无连接运输UDP</a></h2><p>UDP被称为是无连接的原因是：使用 UDP发送报文段之前，发送方和接收方的运输层实体之间没有握手。DNS是一个通常使用UDP的应用层协议的例子。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%207.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%207.png></p><p>UDP报文段结构：数据字段包含查询报文或者响应报文；长度字段指定UDP报文段中的字节数；接收方使用检验和检查报文段中是否出现差错。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%208.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%208.png></p><p>UDP检验和：用于确定UDP报文段从源到目的地移动时其中的比特是否发生了改变。</p><p>为什么UDP首先提供检验和？许多链路层协议也提供了差错检测，但是不能保证源和目的之间所有链路都提供差错检测，经过路由器内存时也可能引入比特差错。UDP是在端到端基础上提供差错检测。</p><h2 id=构造可靠数据传输协议><a href=#构造可靠数据传输协议 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:构造可靠数据传输协议 class=headings>构造可靠数据传输协议</a></h2><p>实现可靠数据传输服务抽象是可靠数据传输协议(如TCP)的责任，但是在下层协议中也许是不可靠的，TCP是在不可靠的(IP)端到端网络层之上实现的可靠数据传输协议。</p><p>有限状态机（finite-State Machine,FSM）：有限状态机是一种用来进行对象行为建模的工具，其作用主要是描述对象在它的生命周期内所经历的状态序列，以及如何响应来自外界的各种事件。</p><h3 id=rdt10><a href=#rdt10 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:rdt10 class=headings>rdt1.0</a></h3><p>发送方和接收方都有各自FSM。</p><p>发送方通过rdt_send(data)相应接收高层数据，产生经make_pkt产生分组，然后由udt_sent(packet)将分组发送到信道中。</p><p>接收方通过rdt_rcv(packet)从底层接收分组，经extract(packet,data)取出数据，并通过deliver_data(data)上传给高层。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%209.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%209.png></p><h3 id=rdt20><a href=#rdt20 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:rdt20 class=headings>rdt2.0</a></h3><p>比特差错：指在接收的代码序列中，同发送的代码序列不一致的比特。</p><p>自动重传请求协议（Automatioc Repeat reQuest,ARQ）：一种数据传输错误控制方法，使用确认消息和超时来实现不可靠服务的可靠数据传输。ARQ协议中还需要差错检测、接收方检测、重传三种协议功能。</p><p>发送端等待上层数据，当rdt_send(data)出现时，产生一个包含待发送数据和检验和的分组sndpkt，由udt_send发送该分组；然后等待接收方的ACK或NAK分组，</p><ul><li>如果是ACK，rdt_rcv(rcvpkt)&&isACK(revpkt)对应ACK，表示发送的数据被正确接收，返回等待上层数据的状态。</li><li>如果是NAK，rdt_rcv(rcvpkt)&&isNAK(revpkt)对应NAK，表示发送的数据没有被正确接收，会通过udt_send(sndpkt)自动重传上一个分组。</li></ul><p>接收端会检验收到的分组是否受损，并返回ACK或者NAK。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2010.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2010.png></p><p>rdt2.0没有考虑到ACK或NAK受损的可能性，如果ACK或NAK分组受损，发送方将无法知道接收方是否正确接收了上一块发送的数据。</p><p>当发送发收到模糊不清的分组时，只需要重传当前数据分组即可，可是这种方法会造成分组冗余，分组冗余的根本困难在于接收方所发送ACK或NAK有没有被发送发接收到。解决的办法是在数据分组中添加一个新的字段，由发送端对其数据分组进行编号，接收方只需检查序号既可确定所接收到的分组是否是一次重传。</p><h3 id=rdt21><a href=#rdt21 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:rdt21 class=headings>rdt2.1</a></h3><p>rdt2.1使用了从接收方到发送方的肯定确认和否定确认，当接收到失序分组时接收方对所接收分组发送肯定确认，当收到分组受损时候发送否定确定。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2011.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2011.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2012.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2012.png></p><h3 id=rdt22><a href=#rdt22 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:rdt22 class=headings>rdt2.2</a></h3><p>rdt2.2是在有比特差错信道上实现的一个屋NAK的可靠程序传输协议。在rdt2.2中，接收方必须包括有一个ACK报文所确认的分组序号，发送方必须检查接收到的ACK报文中被确认的分组序号。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2013.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2013.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2014.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2014.png></p><h3 id=rdt30><a href=#rdt30 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:rdt30 class=headings>rdt3.0</a></h3><p>丢包（Packet loss）是指一个或多个数据数据包（packet）的数据无法透过网上到达目的地。</p><p>rdt2.2已经可以实现如何检验丢包，检测到丢包该如何做呢？发送方明智地选择一个时间值，以判定可能发生了丢包(尽管不能确保 )，这个时间内没有收到 ACK ，则重传该分组 。如果包没有丢，那么接收方便会出现数据冗余，rdt2.2可以通过序号来处理冗余分组。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2015.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2015.png></p><p>rdt3.0有时也被称为比特交替协议。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2016.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2016.png></p><p>在检验和、序号、定时器、肯定和否定确认分组这些技术中，每种机制都在协议的运行中起到了必不可少的作用。</p><h2 id=流水线可靠数据传输协议><a href=#流水线可靠数据传输协议 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:流水线可靠数据传输协议 class=headings>流水线可靠数据传输协议</a></h2><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2017.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2017.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2018.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2018.png></p><p>停等协议会限制底层网络硬件所提供的能力，解决方式是允许发送方发送多个分组而无须等待确认，将之称为流水线技术，与之而来的影响有：</p><ul><li>必须增加序号的范围；</li><li>协议的两端不得不缓存多个分组；</li><li>所需序号范围和对缓冲的要求取决于数据传输协议如何处理丢失、损坏及延时过大的分组 。解决流水线差错恢复有两种基本方法：回退N步、选择重传</li></ul><h3 id=回退n步go-back-ngbn-滑动窗口协议><a href=#回退n步go-back-ngbn-滑动窗口协议 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:回退n步go-back-ngbn-滑动窗口协议 class=headings>回退N步(Go Back N，GBN) ,滑动窗口协议</a></h3><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2019.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2019.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2020.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2020.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2021.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2021.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2022.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2022.png></p><h3 id=选择重传selective-repeatsr><a href=#选择重传selective-repeatsr class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:选择重传selective-repeatsr class=headings>选择重传（Selective Repeat，SR）</a></h3><p>GBN 协议潜在地允许发送方用多个分组"填充流水线"，因此避免了停等协议中所提到的信滥利用率问题。然而单个分组的差错就能够引起GBN重传大量分组，许多分组根本没有必要重传。</p><p>选择重传(SR) 协议通过让发送方仅重传那些它怀疑在接收方出错(即丢失或受损)的分组而避免了不必要的重传 。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2023.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2023.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2024.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2024.png></p><p>窗口长度比序号空间小1 时协议无法工作，对于 SR 协议而言，窗口长度必须小于或等于序号空间大小的一半。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2025.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2025.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2026.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2026.png></p><h2 id=面向连接的运输tcp><a href=#面向连接的运输tcp class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:面向连接的运输tcp class=headings>面向连接的运输TCP</a></h2><p>TCP 连接也总是点对点( point -to- point )的，即在单个发送方与单个接收方之间的连接。所谓"多播，即在一次发送操作中?从一个发送方将数据传送给多个接收方，这种情况对TCP来说是不可能的。TCP连接不是一条像在电路交换网络中的端到端电路，而是一条逻辑连接，共同状态保留在两个通信端系统的TCP程序中，中间路由器对TCP的连接是看不到的，所看到的只是数据报。TCP 为每块客户数据配上一个 TCP 首部，从而形成多个 TCP 报文段(TCP segnlent) 。这些报文段被下传给网络层，网络层将其分别封装在网络层 IP 数据报巾 。 然后这些 IP 数据报被发送到网络中 。当 TCP 在另一端接收到一个报文段后，该报文段的数据就被放入该TCP 连接的接收缓存中，应用程序从此缓存中读取数据流 。</p><p>进程通过套接字传送数据流，TCP将这些数据引导到该连接的发送缓存中，TCP会从缓存中取出数据并传递到网络层。取出数据并放入报文段中的数据数量受限于最大报文段长度（Maximum Segment Size,MSS）。MSS通常根据最初确定的由本地发送主机发送的最大链路层帧长度（最大传输单元Maximum Transmission Unit，MTU）来设置。设置MSS要保证一个TCP报文段加上TCP/IP首部(通常40字节)适合单个链路层帧，以太网和PPP链路层协议都具有1500字节的MTU，因此MSS的典型值是1460字节。以太网和 ppp 链路层协议都具有 1500 字节的 MTU ，因此 MSS 的典型值为 1460字节 。MSS 是指在报文段里应用层数据的最大长度，而不是指包括首部的 TCP 报文段的最大长度 。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2027.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2027.png></p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2028.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2028.png></p><p>TCP报文段结构</p><p>TCP报文段首部最重要的字段是“序号”字段和“确认号”字段。</p><p>序号是建立在传送的字节流之上，而不是建立在传送的报文段的序列之上，一个报文段的序号(sequence number for a segment)因此是该报文段首字节的字节流编号。</p><p>TCP是全双工的，即接受也发送数据，从主机 B 到达的每个报文段中都有一个序号用于从 B 流向 A 的数据，主机A填充进报文段的确认号是主机 A 期望从主机 B 收到的下一字节的序号 。</p><p>主机在一条 TCP 连接中收到失序报文段时该怎么办?RFC 并没有为此明确规定任何规则，而是把这一问题留给实现 TCP 的编程人员去处理 。两个基本的选择: ①接收方立即丢弃失序报文段。②接收方保留失序的字节，并等待缺少的字节以填补该问隔 。</p><p>许多用户现在更愿意采用 SSH 协议而不是 Telnet ，因为在Telnet 连接中发送的数据 (包括口令)是没有加密的，使得 Telnet 易于受到窃听攻击。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2029.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2029.png></p><p>Telnet，一个报文段的序号就是该报文段数据字段首字节的序号；确认号就是主机正在等待的数据的下一个字节序号；</p><p>往返时间的估计与超时：超时间隔必须大于该连接的往返时间(RTT) ，即从一个报文段发出到它被确认的时间，否则会造成不必要的重传。</p><p>估计往返时间；</p><p>设置和管理重传超时间隔；</p><p>可靠数据传输</p><p>超时间隔加倍：定时器过期很可能是由网络拥塞引起的，即太多的分组到达源与目的地之间路径上的一 台(或多台)路由器的队列中，造成分组丢失或长时间的排队时延 。在拥塞的时候，如果源持续重传分组，会使拥塞更加严重 。TCP 使用更文雅的方式，每个发送方的重传都是经过越来越长的时间间隔后进行的 。</p><p>快速重传：如果 TCP 发送方接收到对相同数据的 3 个冗余 ACK ，它把这当作一种指示，说明跟在这个已被确认过 3 次的报文段之后的报文段已经丢失。一旦收到 3 个冗余 ACK ，TCP 就执行快速重传。</p><p>回退N步还是选择重传？tcp 的差错恢复机制也许最好被分类为 GBN 协议与SR协议的混合体。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2030.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2030.png></p><p>流量控制</p><p>流量控制服务( flow~control service)可以消除发送方使接收方缓存溢出的可能性，是一个速度匹配服务，即发送方的发送速率与接收方应用程序的读取速率相匹配 。TCP 通过让发送方维护一个称为接收窗口(receive window)的变量来提供流量控制 。</p><p>拥塞控制：TCP 发送方也可能因为 IP 网络的拥塞而被遏制;这种形式的发送方的控制被称为拥塞控制(congeslion control)</p><h3 id=三次握手><a href=#三次握手 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:三次握手 class=headings>三次握手</a></h3><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2031.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2031.png></p><ol><li>客户端的 TCP 首先向服务器端的 TCP 发送一个特殊的 TCP 报文段，报文段不包含应用层数据，但是首部中的SYN标志位被置为1，被称为SYN报文段。客户随机选择一个初始序号client_isn并放在TCP SYN报文段的序号字段中，然后封装在IP数据报中发送给服务器，为避免攻击，可以随机选择初始序号client_isn。</li><li>服务器从数据报中提取TCP SYN报文段，为该TCP连接分配TCP缓存和变量，并向客户TCP发送允许连接的SYN ACK报文段(SYN被置为1；client_isn被+1；服务器选择自己的初始序号server_isn)。</li><li>收到SYN ACK报文段后，客户给该连接分配缓存和变量，客户向服务器发送另外一个报文段以确认连接（确认方法是server_isn+1），此时SYN比特位被置为0.</li></ol><h3 id=四次挥手><a href=#四次挥手 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:四次挥手 class=headings>四次挥手</a></h3><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2032.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2032.png></p><p>客户TCP发送一个带有FIN比特被置为1的TCP报文段，并进入FIN_WAIT_1状态，当处在 FIN_WAIT_1状态时，客户 TCP 等待一个来自服务器的带有确认的 TCP 报文段。当它收到该报文段时，客户 TCP 进入FIN_WAIT_2状态 。</p><p>当处在 FIN-WAIT-2 状态时，客户等待来自服务器的 FIN 比特被置为1 的另一个报文段；当收到该报文段后，客户 TCP 对服务器的报文段进行确认，并进入TIME_WAIT状态 。</p><p>假定 ACK 丢失，TIME_WAIT状态使 TCP客户重传最后的确认报文。在 TIME_WAIT 状态中所消耗的时间是与具体实现有关的，而典型的值是 30 秒、1 分钟或 2 分钟 。 经过等待后，连接就正式关闭，客户端所有资源(包括端口号)将被释放 。</p><h2 id=拥塞控制原理><a href=#拥塞控制原理 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:拥塞控制原理 class=headings>拥塞控制原理</a></h2><p>丢包一般是当网络变得拥塞时由于路由器缓存溢出引起的，分组重传因此作为网络拥塞的征兆，但是却无法处理网络拥塞产生的原因。</p><p>拥塞控制方法</p><p>端到端拥塞控制：TCP采取这种方法。</p><p>网络辅助的拥塞控制：路由器向发送方提供反馈信息</p><p>TCP拥塞控制</p><p>如何限制流量发送速率？</p><p>如何感知拥塞是否存在？</p><p>如何改变流量发送速率？</p><p>TCP拥塞控制算法：慢启动、拥塞避免、快速恢复</p><p>公平性和UDP</p><p>公平性和并行TCP连接</p><p>网络拥塞通告允许网络明确向TCP发送方和接收方发出拥塞信号。</p><h1 id=第4章-网络层数据平面><a href=#第4章-网络层数据平面 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第4章-网络层数据平面 class=headings>第4章 网络层：数据平面</a></h1><p>学习主机到主机间在网络层的通信是如何实现的。</p><p>网络层的<strong>数据平面功能</strong>即网络层中每台路由器的功能，决定数据报如何转发到输出链路；IP转发、通用转发等，将数据报从其输入链路转发到输出链路；</p><p>网络层的<strong>控制平面功能</strong>即网络范围的逻辑，控制数据报沿着源主机到目的主机的端到端路径中路由器之间的路由方式，包括路由选择算法、路由选择协议等，协调路由器的转发动作，使数据报进行端到端传送；</p><p><strong>软件定义网络</strong>(Software Defined Networking,SDN)明确分离数据平面和控制平面。</p><p><strong>转发</strong>(forwarding) 是指将分组从一个输入链路接口转移到适当的输出链路接口的路由器本地动作。转发发生的时间尺度很短(通常为几纳秒) ，因此通常用硬件来实现 。转发是由网络层的数据平面执行的主要功能 。</p><p><strong>路由选择</strong>(routing)，是指确定分组从源到目的地所采取的端到端路径的网络范围处理过程 。 路由选择发生的时间尺度长得多(通常为几秒) ，因此通常用软件来实现 。</p><p>每台网络路由器中有一个关键元素是它的<strong>转发表</strong>(forwarding table)，转发表是由路由选择处理器计算和更新的；**路由器中的转发表一开始是如何配置的 ？**路由选择算法与在其他路由器中的路由选择算法通信，以计算出它的转发表的值。交换是根据路由选择协议交换包含路由选择信息的路由选择报文。</p><p><strong>网络服务模型</strong>(network servíce model) 定义了分组在发送与接收端系统之间的端到端运输特性 。</p><h2 id=路由器工作原理><a href=#路由器工作原理 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:路由器工作原理 class=headings>路由器工作原理</a></h2><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2033.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2033.png></p><p>交换</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2034.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2034.png></p><p>交换结构位于路由器核心部位，有三种交换技术：经内存交换、经总线交换、经互联网络交换；</p><p>何时何处出现排队？</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2035.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2035.png></p><p>何时何处出现排队？输入排队(线路前端堵塞)</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2036.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2036.png></p><p>何时何处出现排队？输出排队(弃尾)</p><p>分组调度</p><ul><li>先来先出(First In First Out,FIFO)</li><li>优先权排队(priority queuing)</li><li>循环排队规则</li><li>加权公平排队</li></ul><h2 id=ipv4><a href=#ipv4 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:ipv4 class=headings>IPv4</a></h2><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2037.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2037.png></p><p>通过查看版本号，路由器能够决定如何解释IP数据报的剩余部分；</p><p>寿命(Time To Live,TTL)：用来确保数据报不会永远在网络中循环，每当一台路由器处理数据包时，TTL字段的数值-1，为0时丢弃该数据报。</p><p>分片：一个链路层所能承载的最大数据量叫做最大传输单元MTU，并不是所有链路层协议部能承载相同长度的网络层分组，如何将过大的IP分组挤进链路层帧的有效载荷字段呢?将 IP 数据报中的数据分片成两个或更多个较小的 IP 数据报，用单独的链路层帧封装这些较小的 IP 数据报，然后通过输出链路发送这些帧 。为坚持网络内核保持简单的原则，IPv4的设计者决定将数据报的重新组装工作放到端系统中而不是放到网络路由器中</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2038.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2038.png></p><p>编址：一个 IP地址与一个接口相关联，而不是与包括该接口的主机或路由器相关联。每个 lP 地址长度为 32 比特(等价为 4 字节) ，因此总共有 2的32次方个(或大约 40 亿个)可能的lP地址。用点分十进制记法书写，地址中的每个字节用它的十进制形式书写。在全球因特网中的每行主机和路由都上的每个接口，都必须有一个全球唯一的 lP 地址(在 NAT 后面的接口除外)。</p><p>一个具有多个以太网段和点对点链路的组织(如一个公司或学术机构)将具有多个子网，在给定子网上的所有设备都具有相同的子网地址 。</p><p>获取一块地址：从ISP获取一组地址。ISP本身可向“因特网名字和编号分配机构ICANN”申请。</p><p>获取主机地址：动态主机配置协议（Dynamic Host Configuration，<strong>DHCP</strong>）或者手动配置。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2039.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2039.png></p><h2 id=网络地址转换><a href=#网络地址转换 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:网络地址转换 class=headings>网络地址转换</a></h2><p>网络地址转换（Network Address Translation,NAT）,NAT 使能路由器对于外部世界来说甚至不像一台路由器。NAT路由器对外界的行为就如同一个具有单一IP地址的单一设备。NAT使能路由器对外界隐藏了家庭网络的细节。路由器从 ISP 的 DHCP 服务器得到它的地址，并且路由器运行一个 DHCP 服务器，为位于 NAT-DHCP 路由器控制的家庭网络地址空间中的计算机提供地址。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2040.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2040.png></p><h2 id=ipv6><a href=#ipv6 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:ipv6 class=headings>IPv6</a></h2><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2041.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2041.png></p><p>IPv6将IP地址长度从32比特增加到128比特，除了单播、多播地址外，还增加了任播地址；IPv4中的分片重新组装、首部检验和被删除，如果路由器收到的 IPv6 数据报因太大而不能转发到出链路上的话，路由器只需丢掉该数据报，并向发送方发囚 一个"分组太大"的 ICMP差错报文即可。</p><p>基于目的转发和通用转发：基于目的转发是转发到指定目的地IP（使用转发表）；通用转发是将指定网段内的IP（批量）转发到IP（使用流表）；</p><p>IPv4迁移到IPv6：一种方法是所有机器全部关机升级，但这是不现实的。第二种方法是使用建立隧道的方式，将IPv6数据报全部完整放到IPv4数据报中。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2042.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2042.png></p><h1 id=第5章-网络层控制平面><a href=#第5章-网络层控制平面 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第5章-网络层控制平面 class=headings>第5章 网络层：控制平面*</a></h1><p>控制平面不仅控制源主机和目的主机间如何转发，还控制网络层组件和服务如何配置管理，以及路由选择算法。</p><h2 id=路由选择算法><a href=#路由选择算法 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:路由选择算法 class=headings>路由选择算法</a></h2><p>路由选择算法的目的是确定一条具有最低开销的从发送方到接收方的路径，其中之一的规则是”<strong>属于组织 Y 的路由器 X 不应转发任何来源于组织 Z 所属网络的分组</strong>“。</p><p>根据集中式分散式分为：</p><p>集中式路由选择算法：用完整的、全局性网络知识计算出最低开销路径。链路状态(Link State，LS)算法。</p><p>分散式路由计算算法：路由器以迭代、分布式计算出最低开销路径。距离向量(Distance-Vector,DV)算法。</p><p>根据动静态进行分类：</p><p>静态路由选择算法：路由随时间变化缓慢，通常是人工调整。</p><p>动态路由选择算法：随着网络流量负载或拓扑发生变化而改变路由选择路径 。</p><p>根据负载敏感度分类：</p><p>负载敏感算法：如果当前拥塞的一条链路与高开销相联系，则路由选择算法趋向于绕开该拥塞链路来选择路由 。</p><p>负载迟钝算法：当今因特网大多都是迟钝算法。</p><h3 id=ospf><a href=#ospf class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:ospf class=headings>OSPF</a></h3><p>开放式最短路径优先（英语：Open Shortest Path First，缩写为 OSPF）是一种链路状态协议，运作于自治系统(AS)内部。能够鉴别 OSPF 路|由器之间的交换。当到达某目的地的多条路径具有相同的开销时，OSPF 允许使用多条路径。对单播与多播路由选择的综合支持 。支持在单个 AS 中的层次结构 。</p><p>自治系统或自治域：是指在互联网中，一个或多个实体管辖下的所有IP网路和路由器的组合，它们对互联网执行共同的路由策略。</p><h3 id=bgp><a href=#bgp class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:bgp class=headings>BGP</a></h3><p>自治系统间路由选择协议BGP，是运行在多个自治系统之间的路由选择协议，将因特网中数以千计的 ISP 教合起来。作为一种 AS 间的路由选择协议，BGP 为每台路由器提供了一种完成以下任务的手段：从邻居 AS 获得前缀的可达性信息。确定到该前缀的"最好的"路由 。</p><p>对于每个自治系统AS，每台路由器要么是一台网关路由器，要么是一台内部路由器。</p><p>如何确定最好的路由？热土豆路由选择、路由器选择算法；</p><h2 id=sdn控制平面><a href=#sdn控制平面 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:sdn控制平面 class=headings>SDN控制平面</a></h2><p>SDN体系结构具有4个关键特征：基于流的转发、数据平面与控制平面分离、网络控制功能、可编程的网络。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2043.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2043.png></p><h2 id=icmp因特网控制报文协议><a href=#icmp因特网控制报文协议 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:icmp因特网控制报文协议 class=headings>ICMP：因特网控制报文协议</a></h2><p>ICMP被主机和路由器用来彼此沟通网络层的信息，最典型的用途是差错报告。ping 程序发送一 个 ICMP 类型 8 编码的报文到指定主机，看到回显(echo) 请求，目的主机发回一个类型 0 编码。的 ICMP 回显回答 。</p><p>"网络管理包括了硬件、软件和人类元素的设置、综合和协调，以监视、测试、轮询、配置、分析、评价和控制网络及网元资源用合理的成本满足实时，性、运营性能和服务质量的要求 。</p><h1 id=第6章-链路层和局域网><a href=#第6章-链路层和局域网 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:第6章-链路层和局域网 class=headings>第6章 链路层和局域网</a></h1><p>节点(node)：将运行链路层协议(即第2层) 协议的任何设备均称为节点 ，节点包括主机、路由器、交换机和 WiFi 接入点。</p><p>链路(link)：把沿着通信路径连接相邻节点的通信信道称为链路。</p><p>网络层数据报到达链路传送之前，几乎所有链路层协议都要将其用链路层帧封装；媒体访问控制协议规定了帧在链路上传输的规则；链路层可靠交付服务通常用于易产生高差错率的链路；还可以提供差错检测和纠正功能。</p><p>链路层的主体部分是在网络适配器(network adapter)中实现的，网络适配器有时也称为网络接口卡( Network Interface Card , NIC) 。部分链路层是在运行于主机 CPU 上的软件中实现的。链路层的软件组件实现了高层链路层功能。</p><h2 id=差错检测和纠正技术><a href=#差错检测和纠正技术 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:差错检测和纠正技术 class=headings>差错检测和纠正技术</a></h2><h3 id=奇偶校验><a href=#奇偶校验 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:奇偶校验 class=headings>奇偶校验</a></h3><p>用单个奇偶检验位，附加一个比特使得比特数据中的1的数量是奇数或偶数。但是如果出现偶数个比特差错，将不会检测出。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2044.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2044.png></p><p>二维奇偶校验能够检测但是不能纠正比特差错。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2045.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2045.png></p><p>向前纠错：接收方检测和纠正差错的能力被称为向前纠错，用于音频CD等存储回访设备中，避免了重发数据的往返时延。</p><h3 id=检验和方法><a href=#检验和方法 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:检验和方法 class=headings>检验和方法</a></h3><h3 id=循环冗余检测><a href=#循环冗余检测 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:循环冗余检测 class=headings>循环冗余检测</a></h3><p>循环冗余检测（Cyclic Redundancy Check，CRC）也称为多项式编码。将发送的比特串看作系数是0和1的一个多项式。</p><p><img src=../../ariticle_source/book/note/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88.assets/Untitled%2046.png alt=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E7%AC%AC7%E7%89%88%2089aaee0fc5894b8fbfe66505eecfc1ea/Untitled%2046.png></p><p>对于一个给定的数据段D，发送方要选择r个附加比特R，并将它们附加到D上，使得得到的d+r比特模式，用模2算术恰好能被G整除(即没有余数) ； 接收方用G除以接收到的d+r比特，如果余数为非零，接收方知道出现了差错;否则认为数据正确而被接收。</p><h2 id=多路访问链路和协议><a href=#多路访问链路和协议 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:多路访问链路和协议 class=headings>多路访问链路和协议</a></h2><p>两种类型的网络链路：点对点链路和广播链路。以太网和无线局域网是广播链路层技术的例子，如何协调多个发送和接收节点对一个共享广播信道的访问，这就是多路访问问题。节点通过多路访问协议来规范它们在共享的广播信道上的传输行为 。</p><p>因为所有的节点都能够传输帧，所以多个节点可能会同时传输帧。当发生这种情况时，所有节点同时接到多个帧，传输的帧在所有的接收方处碰撞了。当碰撞发生时，没有一个接收节点能够有效地获得任何传输的帧;在某种意义下，碰撞帧的信号纠缠在一起 。</p><p>多路访问协议可以分为：</p><ul><li>信道划分协议：时分多路复用、频分多路复用；</li><li>随机接入协议：时隙 ALOHA 协议、时隙 ALOHA 协议、载波侦听多路访问(CSMA)协议、具有碰撞检测的载波侦听多路访问 (CSMA with Col1ision Detection , CSMA/CD)协议；</li><li>轮流协议：轮询协议（轮流询问）、令牌传递协议（令牌轮流）</li></ul><h2 id=交换局域网><a href=#交换局域网 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:交换局域网 class=headings>交换局域网</a></h2><p>MAC地址：（英语：Media Access Control Address），直译为媒体访问控制地址，也称为局域网地址（LAN Address），以太网地址（Ethernet Address）或物理地址（Physical Address），它是一个用来确认网络设备位置的地址。</p><p>地址解析协议：（Address Resolution Protocol，ARP），是一个通过解析网络层地址来找寻数据链路层地址的网络传输协议，它在IPv4中极其重要。</p><p>ARP和DNS类似，DNS 为在网特网中任何地方的主机解析主机名，而 ARP 只为在同一个子网上的主机和路由器接口解析 IP 地址 。每台主机或路由器在其内存中具有一个 ARP 表(ARP table) ，这张表包含IP地址到 MAC 地址的映射关系 。</p><p>查询 ARP 报文是在广播帧中发送的，而响应 ARP 报文在一个标准帧中发送 。ARP 是即插即用的，这就是说，一个 ARP 表是自动建立的，即它不需要系统管理员来配置。</p><h2 id=以太网><a href=#以太网 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:以太网 class=headings>以太网</a></h2><p>集线器（Ethernet hub）是指将多条以太网双绞线或光纤集合连接在同一段物理介质下的设备</p><h3 id=链路层交换机><a href=#链路层交换机 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:链路层交换机 class=headings>链路层交换机</a></h3><p>链路层交换机的任务是接收入链路层帧并将其转发到出链路，因为到达交换机输出接口的速率可能暂时会超过该接口的链路容量，所以交换机输出接口设有缓存。</p><p>过滤是决定一个帧应该转发到某个接口还是应当将其丢弃的交换机功能 。交换机的过滤和转发借助于 交换机表完成 ，交换机表中的一个表项包含:①一个MAC 地址;②通向该 MAC 地址的交换机接口;③表项放置在表中的时间。</p><p>转发是决定一个帧应该被导向哪个接口，并把该帧移动到那些接口的交换机功能。</p><p>交换机是自学习的，交换机表初始为空，对于在每个接口接收到的每个人帧，该交换机在其表中存储: ①在该帧源地址字段中的 MAC 地址;②该 l帧到达的接口; ③当前时间 。如果在一段时间(称为老化期 )后，交换机没有接收到以该地址作为源地址的帧，就在表中删除这个地址 。</p><p>交换机和路由器的比较：</p><p>交换机是第二层的分组交换机，而路由器是第三层的分组交换机 。</p><p>交换机必须处理高至第二层的帧，而路由器必须处理高至第三层的数据报 。</p><p>路向器是使用网络层地址转发分组的存储转发分组交换机，交换机使用MAC地址转发分组；</p><p>交换机是即插即用的，具有相对高的分组过滤和转发速率。交换机对于广播风暴并不提供任何保护措施。</p><p>路由器不是即插即用的，需要认为配置IP地址，对第二层的广播风暴提供了防火墙保护，路由器对每个分组的处理时间通常比交换机更长</p><p>虚拟局域网vlan</p><h2 id=数据中心网络><a href=#数据中心网络 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:数据中心网络 class=headings>数据中心网络</a></h2><p>主机：负责提供内容(例如，网页和视频) 存储邮件和文档，并共同执行大规模分布式计算。</p><p>刀片：数据中心中的主机称为刀片，一般是包括 CPU 、 内存和磁盘抒储的商用主机 。</p><p>主机被堆叠在机架上，每个机架一般堆放 20-40 台刀片，在每一个机架顶部有一台交换机，这台交换机被形象地称为机架顶部交换机。</p></div></article><footer class=minimal-footer><div class=post-tag><a href=../../book/ rel=tag class=post-tag-link>#book</a> <a href=../../network/ rel=tag class=post-tag-link>#network</a></div><div class=post-category><a href=../../tech/ class="post-category-link active">信息技术</a> | <a href=../../app/ class=post-category-link>app</a> | <a href=../../life/ class=post-category-link>生活涂鸦</a></div></footer></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div></div><script src=//npm/medium-zoom@latest/dist/medium-zoom.min.js></script>
<script>let imgNodes=document.querySelectorAll("div.post-body img");imgNodes=Array.from(imgNodes).filter(e=>e.parentNode.tagName!=="A"),mediumZoom(imgNodes,{background:"hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)"})</script></body></html>